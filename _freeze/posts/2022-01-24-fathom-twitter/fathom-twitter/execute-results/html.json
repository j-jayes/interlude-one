{
  "hash": "ebcb568b9d9ac22d5396f4e8566d1649",
  "result": {
    "markdown": "---\ntitle: \"R vs Python? R & Python!\"\ndescription: |\n  Mining the twitter archive of [Fathom Data](https://www.fathomdata.dev/)\nauthor:\n  - name: Jonathan Jayes\n    url: {interludeone.com}\nimage: images/preview.png\ndate: 2022-01-17\noutput:\n  distill::distill_article:\n    self_contained: false\n    code_folding: false\n    highlight: haddock\n    highlight_downlit: true\n    toc: true\n---\n\n\n\n\n# Which language does Fathom Data tweet about more?\n\n[Fathom data](https://www.fathomdata.dev/) are an analytics and data science training firm which offers training in two of the most popular open source languages for statistical and general purpose programming: [#Rstats](https://twitter.com/hashtag/RStats) and [#Python](https://twitter.com/hashtag/Python). In their words:\n\n<blockquote class=\"twitter-tweet\"><p lang=\"en\" dir=\"ltr\">We use 100% <a href=\"https://twitter.com/hashtag/opensource?src=hash&amp;ref_src=twsrc%5Etfw\">#opensource</a> tools and we contribute to a number of Open Source projects. There&#39;s no doubt that Open Source adds value to <a href=\"https://twitter.com/fathomdata?ref_src=twsrc%5Etfw\">@fathomdata</a>, but it&#39;s hard to know what value we&#39;re creating. Some interesting perspectives on quantifying value.<a href=\"https://t.co/hcw5hylTwn\">https://t.co/hcw5hylTwn</a></p>&mdash; Fathom Data (@fathomdata) <a href=\"https://twitter.com/fathomdata/status/1485530319742812161?ref_src=twsrc%5Etfw\">January 24, 2022</a></blockquote> <script async src=\"https://platform.twitter.com/widgets.js\" charset=\"utf-8\"></script>\n\nSome of the staff state a preference for R, and I wanted to see if this preference was borne out in the tweets on their corporate twitter account.\n\n## Tweets!\n\nTo quantify the references to each language, I used the `rtweet` package from [Michael W. Kearney](https://twitter.com/kearneymw) to mine the Fathom Data timeline, as well as those of founder [Andrew Collier](https://datawookie.dev/).\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(tidyverse)\nlibrary(rtweet)\n# get the tweets!\ndf <- get_timelines(c(\"fathomdata\", \"datawookie\"), n = 3200)\n```\n:::\n\n\n\n\nWe can see that we collected nearly 450 tweets on the Fathom Data account, and just shy of 3200 from Andrew's account.\n\n\n::: {.cell}\n\n```{.r .cell-code}\ndf %>% \n    count(screen_name) %>% \n    knitr::kable(col.names = c(\"Account\", \"Number of tweets\"))\n```\n\n::: {.cell-output-display}\n|Account    | Number of tweets|\n|:----------|----------------:|\n|datawookie |             3198|\n|fathomdata |              448|\n:::\n:::\n\n\n## Hashtags\n\nLet's start by looking at the hashtags used on the Fathom Data account, distinguishing between original tweets and retweets.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nhashtags <- df %>%\n  filter(screen_name == \"fathomdata\") %>%\n  unnest(cols = c(hashtags)) %>%\n  filter(!is.na(hashtags)) %>%\n  mutate(hashtags = str_to_lower(hashtags)) %>%\n  count(hashtags, is_retweet) %>%\n  mutate(is_retweet = if_else(is_retweet == TRUE,\n    \"Retweet\",\n    \"@fathomdata tweet\"\n  ))\n```\n:::\n\n\nIn the column chart below we can visualize the number of times the 12 most frequently used hashtags appear by type of tweet. Evidently original tweets include hashtags about both Rstats and Python, as well as SQL and CSS. The retweets skew heavily towards Rstats though.\n\n[I've made use of the lovely `reorder_within` command in combination with the `scale_y_reordered` command, both from the `tidytext` package to reorder the hashtags by frequency within the type of tweet. This means that though the same terms appear across facets, they can be in a different order within each.]{.aside}\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(tidytext)\n# ggsci package for nice blue fill scale\nlibrary(ggsci)\n\nhashtags %>% \n  group_by(is_retweet) %>% \n  slice_max(n, n = 12, with_ties = F) %>% \n  ungroup() %>% \n  mutate(language = str_detect(hashtags, \"rstats|python|sql|css|markdown\")) %>% \n  mutate(hashtags = reorder_within(hashtags, n, is_retweet)) %>% \n  ggplot(aes(n, hashtags, fill = n, colour = language)) +\n  geom_col(show.legend = F) +\n  scale_fill_material(\"blue\") +\n  scale_color_manual(values = c(\"white\", \"red\")) +\n  scale_y_reordered() +\n  facet_wrap(~ is_retweet, scales = \"free\") +\n  labs(x = \"Number of tweets tagging\",\n       y = \"Hashtag\",\n       caption = \"Note: red outline on bar indicates language\")\n```\n\n::: {.cell-output-display}\n![Column chart of hashtag frequency by tweet type](fathom-twitter_files/figure-html/unnamed-chunk-5-1.png){width=672}\n:::\n:::\n\n\nAnother way to compare these is the stacked column chart below, which shows the number of uses of hashtags for each language as a percentage of the total number of language tags. Rstats tags make us just less than half of the tweets posted to the Fathom Data account, but more than 90 percent of the retweet tags! Wow! It certainly seems like the person in charge of the twitter account enjoys sharing tweets about Rstats.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nhashtags %>%\n  filter(hashtags %in% c(\"rstats\", \"python\", \"sql\", \"css\")) %>%\n  mutate(hashtags = fct_reorder(hashtags, n),\n         is_retweet = fct_relevel(is_retweet, \"Retweet\")) %>%\n  ggplot(aes(n, is_retweet, fill = hashtags)) +\n  geom_col(position = \"fill\") +\n  scale_x_continuous(labels = scales::percent_format()) +\n  labs(\n    x = \"Share of tweets tagging langauge\",\n    fill = \"Language\",\n    y = NULL\n  ) +\n  scale_fill_npg(\n    guide = guide_legend(reverse = TRUE)\n  )\n```\n\n::: {.cell-output-display}\n![Stacked column chart comparing language hashtag frequency by tweet type](fathom-twitter_files/figure-html/unnamed-chunk-6-1.png){width=768}\n:::\n:::\n\n\n\nLooking at text instead of hashtags we see that Rstats make up 79 percent share of the langauge mentions of Rstats and Python.\n\n\n::: {.cell}\n\n```{.r .cell-code}\ndf %>%\n  select(text) %>%\n  mutate(\n    rstats = str_detect(text, \"rstats\"),\n    python = str_detect(text, \"python\")\n  ) %>%\n  summarise(across(c(rstats, python), sum)) %>%\n  pivot_longer(everything(),\n    names_to = \"language\",\n    values_to = \"n\"\n  ) %>% \n    mutate(share = scales::percent(n / (496 + 134)))\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n# A tibble: 2 Ã— 3\n  language     n share\n  <chr>    <int> <chr>\n1 rstats     496 79%  \n2 python     134 21%  \n```\n:::\n:::\n\n\n\n## Who is being retweeted?\n\nIn the table below we can see that several accounts which aggregate informative Rstats content feature in the top retweets on the Fathom Data feed. One of the reasons I love Rstats is that the community is so willing to share their knowledge. The Fathom Data feed is an example of this.\n\n\n::: {.cell}\n\n```{.r .cell-code}\ndf %>%\n  filter(\n    str_detect(text, \"rstats\"),\n    screen_name == \"fathomdata\",\n    !is.na(retweet_screen_name)\n  ) %>%\n  count(retweet_name, sort = T) %>%\n  slice_head(n = 12) %>%\n  knitr::kable(col.names = c(\"Accout name\", \"Number of retweets\"))\n```\n\n::: {.cell-output-display}\n|Accout name                    | Number of retweets|\n|:------------------------------|------------------:|\n|Andrew B. Collier              |                 43|\n|R-bloggers                     |                 19|\n|Megan Beckett                  |                 16|\n|R posts you might have missed! |                 10|\n|satRday South Africa           |                  6|\n|Mara Averick                   |                  5|\n|Astrid Radermacher             |                  3|\n|RStudio                        |                  3|\n|Tom Mock                       |                  3|\n|Fathom Data                    |                  2|\n|R-Ladies Cape Town             |                  2|\n|R Weekly Live                  |                  2|\n:::\n:::\n\n\nWe can also see that Fathom founder Andrew Collier appears at the top of the list of Rstats retweets from the Fathom account, with 43. The next section looks at how his feed and the Fathom Data feed overlap.\n\n## What is the overlap between private and public?\n\nFollowing the fantastic resource [Text Mining with R](https://www.tidytextmining.com/twitter.html) the code chunk below calculates the frequency with which each word used in the tweets of the Fathom Data accound and by Andrew Collier as a share of the total number of distinct words used.\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# taking out URLs\nremove_bits <- \"&amp;|&lt;|&gt;\"\n\ntidy_tweets <- df %>%\n  filter(!str_detect(text, \"^RT\")) %>%\n  mutate(text = str_remove_all(text, remove_bits)) %>%\n  unnest_tokens(word, text, token = \"tweets\") %>%\n    # remove stopwords\n  filter(\n    !word %in% stop_words$word,\n    !word %in% str_remove_all(stop_words$word, \"'\"),\n    str_detect(word, \"[a-z]\")\n  ) \n\nfrequency <- tidy_tweets %>% \n  group_by(screen_name) %>% \n  count(word, sort = TRUE) %>% \n  left_join(tidy_tweets %>% \n              group_by(screen_name) %>% \n              summarise(total = n())) %>%\n  mutate(freq = n/total)\n\nfrequency <- frequency %>% \n  select(screen_name, word, freq) %>% \n  pivot_wider(names_from = screen_name, values_from = freq) %>%\n  arrange(desc(datawookie), fathomdata)\n```\n:::\n\n\nThe visualization below shows the relative frequencies for terms used by both accounts. Words near the red line are used in about equal proportion by the Fathom account and by Andrew, while words above the line are more specific to the Fathom account and words below the line are more specific to Andrew.\n\nIn the top right of the plot we can see that #datascience, data and #Rstats are used frequently by both accounts, and roughly in equal proportions. Terms like courses, #sql and keynote are more specific to the Fathom account, while #linux and binance are more specific to Andrew's tweets.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nfrequency %>% \n  ggplot(aes(datawookie, fathomdata)) +\n  geom_jitter(alpha = 0.1, size = 2.5, width = 0.25, height = 0.25) +\n  geom_text(aes(label = word), check_overlap = TRUE, vjust = 1.5) +\n  scale_x_log10(labels = percent_format()) +\n  scale_y_log10(labels = percent_format()) +\n  geom_abline(color = \"red\") +\n  theme(legend.position = \"none\") +\n    labs(x = \"Andrew Collier\",\n         y = \"Fathom Data\")\n```\n\n::: {.cell-output-display}\n![Comparing the frequency of words used by the Fathom Data account and Andrew Collier](fathom-twitter_files/figure-html/unnamed-chunk-10-1.png){width=672}\n:::\n:::\n\n\nInterestingly, standard bank stands out in the bottom right of the plot, highlighted in the version below. It seems that Andrew uses his personal account to call out poor customer service!\n\n\n::: {.cell}\n\n```{.r .cell-code}\nfrequency %>% \n  mutate(highlight = word == \"@standardbankza\") %>% \n  ggplot(aes(datawookie, fathomdata)) +\n  geom_jitter(alpha = 0.1, size = 2.5, width = 0.25, height = 0.25) +\n  geom_text(aes(label = word, colour = highlight), check_overlap = TRUE, vjust = 1.5) +\n  scale_x_log10(labels = percent_format()) +\n  scale_y_log10(labels = percent_format()) +\n  geom_abline(color = \"red\") +\n  scale_color_manual(values = c(\"grey80\", \"midnightblue\")) +\n  theme(legend.position = \"none\")\n```\n\n::: {.cell-output-display}\n![Highlighting Standard Bank account mentions](fathom-twitter_files/figure-html/unnamed-chunk-11-1.png){width=672}\n:::\n:::\n\n\nThis is clearly the case! Have a look at the top terms, haha!\n\n\n::: {.cell}\n\n```{.r .cell-code}\nfrequency %>%\n  filter(is.na(fathomdata)) %>%\n  select(-fathomdata) %>%\n  mutate(datawookie = scales::percent(datawookie)) %>%\n  slice_head(n = 10) %>%\n  knitr::kable(col.names = c(\"Word\", \"Relative specificity to Andrew Collier's tweets\"))\n```\n\n::: {.cell-output-display}\n|Word             |Relative specificity to Andrew Collier's tweets |\n|:----------------|:-----------------------------------------------|\n|kak              |0.6723%                                         |\n|#customerservice |0.6666%                                         |\n|@rainsouthafrica |0.5759%                                         |\n|mind             |0.5220%                                         |\n|mbps             |0.4255%                                         |\n|prepared         |0.3773%                                         |\n|linux            |0.3489%                                         |\n|#itcanbe         |0.3262%                                         |\n|#fixit           |0.2354%                                         |\n|worst            |0.2241%                                         |\n:::\n:::\n\n\n## Conclusion\n\nIt appears that Fathom has a good mix of open source languages in use, and on their twitter, with a slight skew towards Rstats.\n\n",
    "supporting": [
      "fathom-twitter_files\\figure-html"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}